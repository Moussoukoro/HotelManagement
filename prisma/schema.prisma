// prisma/schema.prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Hotel {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  name        String   @unique
  address     String
  devise      Devise   @default(F_XOF)
  price       Float    @default(0)
  images      String[]
  contactInfo String?
  status      Status   @default(Active)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  users       User[]
}

model User {
  id                  String    @id @default(auto()) @map("_id") @db.ObjectId
  username            String    @unique
  email               String    @unique
  password            String
  avatar              String?
  role                Role      @default(staff)
  passwordResetToken  String?
  passwordResetExpires DateTime?
  active              Boolean   @default(true)
  hotel               Hotel?    @relation(fields: [hotelId], references: [id])
  hotelId             String?   @db.ObjectId
  createdAt           DateTime  @default(now())
  updatedAt           DateTime  @updatedAt
}

enum Devise {
  F_XOF
  Euro
  Dollar
}

enum Status {
  Active
  Closed
  Renovating
}

enum Role {
  admin
  manager
  staff
}